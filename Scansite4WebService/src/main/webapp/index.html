<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="Scansite Web service" />
<meta name="keywords"
  content="programmatic access of scansite,script,webservice,kinases,yaffe,protein,phosphorylation" />
<meta name="author" content="Tobias Ehrenberger/" />

<!-- Consider inlining CSS to reduce the number of requested files -->
<link type="text/css" rel="stylesheet" href="scansite4ws.css">
<title>Scansite 4 Webservice</title>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32141370-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body class='wsDescBody'>
<div style="text-align:center;">
  <img src="http://scansite3.mit.edu:8080/Scansite3Webservice/staticWsFiles/logo_scansite.gif" id='top'/>
</div>
<!-- ########################################################################################################## -->
<h1>Scansite 4 Webservice</h1>

<!-- ########################################################################################################## -->
<h2>Contents</h2>
 <ol>
   <li><a href='#sec_intro'>Introduction</a></li>
   <li><a href='#sec_defs'>Definitions</a></li>
   <li><a href='#sec_usageExample'>Usage-Example</a></li>
   <li><a href='#sec_basicFunctions'>Basic Functions</a>
	   <ol>
      <li><a href='#svc_stringency'>Get valid stringency values</a></li>
      <li><a href='#svc_datasources'>Get valid datasources</a></li>
      <li><a href='#svc_motifClasses'>Get valid motifs classes</a></li>
      <li><a href='#svc_organismClasses'>Get organism classes</a></li>
      <li><a href='#svc_motifDefs'>Get valid motifs from a given class</a></li>
      <li><a href='#svc_proteinExists'>Check if proteins exist in Scansite's database mirrors</a></li>
	   </ol>
   </li>
   <li><a href='#sec_scansiteFunctions'>Scansite Functions</a>
     <ol>
       <li><a href="#svc_scanProtAcc">Scan a protein for motifs using a protein accession</a></li>
       <li><a href="#svc_scanProtSeq">Scan a protein for motifs using a protein sequence</a></li>
       <li><a href="#svc_seqMatch">Search a sequence database for a sequence pattern</a></li>
       <li><a href="#svc_searchDb">Search a sequence database for a Scansite motif</a></li>
     </ol>
   </li>
   <li><a href='#sec_errors'>Errors</a></li>
 </ol>
 <hr/> 
<!-- ########################################################################################################## -->
<h2 id='sec_intro'>1. Introduction</h2>
<p>Welcome to the Scansite 3 webservice. This page gives you instructions about 
how to access the most important Scansite 3 features programmatically.
</p>
<p>
The RESTful interface allows you to run most features using a URI in which 
you specify the desired parameters. Many parameters that are needed are restricted, which
means that only specific values are allowed. Please read the <a href='#sec_defs'>Defintions-section</a> for further 
information. The results of all services are well-formed and valid  XML-files.
</p>
<a href="#top" class='goToTopLink'>[Go to top]</a>

<!-- ########################################################################################################## -->
<h2 id='sec_defs'>2. Definitions</h2>
<p>
In the following sections some abbreviations and quantifiers will be used for 
defining parameters. The meaning of these is explained here:
</p>
<table class='descriptionTable'>
  <tr>
    <td><b><a id='cmd_any'>[ANY]</a></b></td>
    <td>Any value</td>
  </tr>
  <tr>
    <td><b><a id='cmd_dec'>[DEC]</a></b></td>
    <td>Numbers with decimal point are allowed</td>
  </tr>
  <tr>
    <td><b><a id='cmd_ds'>[DS]</a></b></td>
    <td>Only datasource's nicknames as returned by the <a href='#svc_datasources'>datasources-service</a> are permitted.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_m'>[M]</a></b></td>
    <td>Only one motif nickname as returned by the <a href='#svc_motifDefs'>motifDefinitions-service</a> is permitted.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_mc'>[MC]</a></b></td>
    <td>Only a motif class as returned by the <a href='#svc_motifClasses'>motifClasses-service</a> is permitted.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_ms'>[MS]</a></b></td>
    <td>Only motif nicknames as returned by the <a href='#svc_motifDefs'>motifDefinitions-service</a> are permitted. If you
        choose to enter more than one motif nickname, separate the nicks by a tilde ('~').</td>
  </tr>
  <tr>
    <td><b><a id='cmd_np'>[NP]</a></b></td>
    <td>Only a number in the range [0-3] is allowed.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_num'>[NUM]</a></b></td>
    <td>Integer value</td>
  </tr>
  <tr>
    <td><b><a id='cmd_oc'>[OC]</a></b></td>
    <td>Only organism classes as returned by the <a href='#svc_organismClasses'>organismClasses-service</a> are permitted.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_p'>[P]</a></b></td>
    <td>A valid protein accession is needed here. You can use the <a href='#svc_proteinExists'>proteinExists-service</a> to find
        out whether a protein exists in our database.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_seq'>[SEQ]</a></b></td>
    <td>Only a protein sequence is permitted.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_st'>[ST]</a></b></td>
    <td>Only stringency values as returned by the <a href='#svc_stringency'>stringencyValues-service</a> are permitted.</td>
  </tr>
  <tr>
    <td><b><a id='cmd_qmark'>?</a></b></td>
    <td>Optional parameter. If you find this quantifier, the value of the parameter (
        ie. the right-hand-side of the equals-sign '=') can be left blank.<br/>
        <i>In general, if no quantifiers are given, parameters are mandatory!</i></td>
  </tr>
  <tr>
    <td><b>..</b></td>
    <td>This web-page's base-URI. All Services will be an extension of this pages URI (without any index.html). 
    For example, if this pages URI is  <i>http://scansite3.mit.edu/Scansite3Webservice/</i>, then ".." is equivalent 
    to this URI and the <a href='#svc_organismClasses'>organismClasses-service</a>
    can be accessed using this URI:<br/> <i>http://scansite3.mit.edu/Scansite3Webservice/organismClasses</i><br/>
     This convention has been chosen to easier fit the services' URIs described below on your screen.
    </td> 
  </tr>
</table>
<a href="#top" class='goToTopLink'>[Go to top]</a>

<!-- ########################################################################################################## -->
<h2 id='sec_usageExample'>3. Usage-Example</h2>
<p>
In order to make it easier to understand how valid Scansite3-webservice URIs are put together this section will walk 
you through the steps that are required to run a Scansite feature using the example of scanning a protein (VAV_HUMAN) from a
public protein database (SwissProt) for mammalian motifs with the highest possible stringency.
</p>
<ol> 
  <li>
	  First of all, decide what you want to do and take a look at the instructions provided below. In the case of this
	  example, the <a href="#svc_scanProtAcc">proteinScan</a>-feature is what we want. 
  </li>
  <li>
	  The instructions for how to prepare a service-URI contain a couple of highlighted hyperlinks that refer 
	  to definitions above. These <i>variable</i> parts of the URI have to be defined in the next steps. Here, 
	  this includes <a href='#cmd_p'>[P]</a>, <a href='#cmd_ds'>[DS]</a>, <a href='#cmd_mc'>[MC]</a>,
	  <a href='#cmd_ms'>[MS]</a><a href='#cmd_qmark'>?</a>, and <a href='#cmd_st'>[ST]</a>. 
  </li> 
  <li>
    Each of the links you find in service-definitions have different meanings: Some allow you to enter whatever you
    want and they will still work, others allow only input from a specific set of options which you usually can obtain
    by using one of the <a href="#sec_basicFunctions">basic</a> webservice functions.  <br/> Illustrating this,
    [P] means that you have to enter a protein accession value that exists in Scansite3's database, and [DS]
    requires a valid Scansite3 datasource-definition. But how do you know which proteins and datasources are valid?
    This can be achieved by using the <a href="#svc_datasources">datasources</a>- and 
    <a href="#svc_proteinExists">proteinExists</a>-function for datasources and proteins, respectively. <br/>
    The datasources-service at <span class='uriInTxt'>../datasources</span> returns an XML-file that looks something like this:
    <pre>
&lt;datasources&gt;
    &lt;!-- ... --&gt;
    &lt;datasource&gt;
        &lt;name&gt;SwissProt&lt;/name&gt;
        &lt;nickName&gt;swissprot&lt;/nickName&gt;
        &lt;!-- ... --&gt;
    &lt;/datasource&gt;
    &lt;!-- ... --&gt;
&lt;/datasources&gt;
    </pre>
    Knowing that the protein accession you are interested in is from SwissProt, you can go to the next step and
    check if the accession is available in Scansite3's mirror of SwissProt. For this, run the proteinExists-service
    with the nickname that is defined for Swissprot (<i>swissprot</i>), and the accession you are interested in 
    (<i>VAV_HUMAN</i>) by accessing <span class='uriInTxt'>../proteinExists/accession=vav_human/datasourceNickname=swissprot</span> . 
    You will receive a boolean result, containing the value <i>true</i> if the protein exists, and <i>false</i> if 
    it does not exist. Luckily, the protein exists in Scansite3's mirror of Swissprot, and you see:
    <pre>
&lt;booleanResult&gt;
    &lt;isSuccess&gt;true&lt;/isSuccess&gt;
&lt;/booleanResult&gt; 
    </pre>
      The motifClasses- (for [MC]), stringencyValues- ([ST]), and motifDefinitions-services ([MS]) all work in a similar manner.
      Please note that the question mark after [MS] indicates that this parameter is optional. This means that if you want to
      look for all motifs of a given motif class, just do not enter any value for[MS]. If you want to check for a set of
      specific motifs, use the motif-nicknames (as returned by the motifDefinitions-service) you are interested in, separated
      by tildes (~), e.g. <span class='uriInTxt'>Lck_Kin~Shc_SH2~Cdc2_Kin</span> .  <br/>
      Following through with these instructions, we end up with the following values for our wildcards: 
      <table style="margin-left:auto;margin-right:auto;">
        <tr><th>WildCard</th><th style="text-align:center;">Value</th></tr>
        <tr><td>[P]</td><td style="text-align:center;"><span class='uriInTxt'>VAV_HUMAN</span></td></tr>
        <tr><td>[DS]</td><td style="text-align:center;"><span class='uriInTxt'>swissprot</span></td></tr>
        <tr><td>[MC]</td><td style="text-align:center;"><span class='uriInTxt'>MAMMALIAN</span></td></tr>
        <tr><td>[MS]?</td><td style="text-align:center;">(nothing, we want to look for all mammalian motifs)</td></tr>
        <tr><td>[ST]</td><td style="text-align:center;"><span class='uriInTxt'>High</span></td></tr>
      </table> 
  </li>
  <li>
    Having gathered all the information in the preceding step, you are now ready to run the actual proteinScan-service.
    Putting together this pieces of information we create the URI 
    <span class="uriInTxt">../proteinScan/accession=VAV_HUMAN/datasourceNickname=swissprot/motifClass=MAMMALIAN/motifNicknames=/stringencyValue=High</span> .
  </li>
  <li>
    The result is an XML-file like this:
    <pre>
&lt;proteinScanResult&gt;
    &lt;predictedSite&gt;
        &lt;motifName&gt;Casein Kinase 2&lt;/motifName&gt;
        &lt;motifNickName&gt;Casn_Kin2&lt;/motifNickName&gt;
        &lt;score&gt;0.3786&lt;/score&gt;
        &lt;site&gt;S135&lt;/site&gt;
        &lt;siteSequence&gt;PFPTEEEsVGDEDIY&lt;/siteSequence&gt;
    &lt;/predictedSite&gt;
    &lt;!-- ... --&gt;
    &lt;proteinName&gt;VAV_HUMAN&lt;/proteinName&gt;
    &lt;proteinSequence&gt;
        MELWRQCTHWLIQCRV&lt;!-- ... --&gt;
    &lt;/proteinSequence&gt;
&lt;/proteinScanResult&gt;
    </pre>
    It includes a list of all the predicted sites, along with the protein sequence, the sites' positions, scores, sequences
    and matching motifs.
  </li>
</ol>
<p>
The workflow-pattern described here can easily be applied to all other Scansite3-features and hopefully helps 
you using this and other Scansite3 webservices.  
</p>
<a href="#top" class='goToTopLink'>[Go to top]</a>

<!-- ########################################################################################################## -->
<h2 id='sec_basicFunctions'>4. Basic functions </h2>
<ol>
  <li id='svc_stringency'><b>Query valid stringency values:</b><br/>
    URL:
    <pre>
    ../stringencyValues
    </pre>
    Example: 
    <pre>
    ../stringencyValues
    </pre>
  </li>
  
  <li id='svc_datasources'><b>Query valid datasources and their nicknames:</b><br/>
    URL:
    <pre>
    ../datasources
    </pre>
    Example: 
    <pre>
    ../datasources
    </pre>
  </li>
  
  <li id='svc_motifClasses'><b>Query valid motif classes:</b><br/>
    URL:
    <pre>
    ../motifClasses
    </pre>
    Example: 
    <pre>
    ../motifClasses
    </pre>
  </li>
  
  <li id='svc_organismClasses'><b>Query valid organism classes:</b><br/>
    URL:
    <pre>
    ../organismClasses
    </pre>
    Example: 
    <pre>
    ../organismClasses
    </pre>
  </li>
  
  <li id='svc_motifDefs'><b>Query valid motifs, their group, classes and nicknames:</b><br/>
    URL:
    <pre>
    ../motifDefinitions/motifClass=<a href='#cmd_mc'>[MC]</a>
    </pre>
    Example: 
    <pre>
    ../motifDefinitions/motifClass=YEAST
    </pre>
  </li>
  
  <li id='svc_proteinExists'><b>Check if a protein exists in one of our database mirrors:</b><br/>
    URL:
    <pre>
    ../proteinExists/accession=<a href='#cmd_any'>[ANY]</a>/datasourceNickname=<a href='#cmd_ds'>[DS]</a>
    </pre>
    Example: 
    <pre>
    ../proteinExists/accession=vav_mouse/datasourceNickname=swissprot
    </pre>
  </li>
</ol>
<a href="#top" class='goToTopLink'>[Go to top]</a>

<!-- ########################################################################################################## -->
<h2 id='sec_scansiteFunctions'>5. Scansite functions</h2>
Please note that in the following definitions line breaks are used to format long URIs in a
prettier way. Line breaks are indicated using a backslash ('\'). Wherever there is a backslash,
just imagine there is no whitespace at all and the URI is just continued on the same line.
<ol>
  <li id='svc_scanProtAcc'><b>Scan a protein for motifs using a protein accession:</b><br/>
    URL:
    <pre>
    ../proteinScan/accession=<a href='#cmd_p'>[P]</a>/datasourceNickname=<a href='#cmd_ds'>[DS]</a>/motifClass=<a href='#cmd_mc'>[MC]</a>/motifNicknames=<a href='#cmd_ms'>[MS]</a><a href='#cmd_qmark'>?</a>/stringencyValue=<a href='#cmd_st'>[ST]</a>
    </pre>
    Examples: 
    <pre>
    - ../proteinScan/accession=vav_human/datasourceNickname=swissprot/motifClass=YEAST/motifNicknames=/stringencyValue=High
    - ../proteinScan/accession=vav_human/datasourceNickname=swissprot/motifClass=MAMMALIAN/motifNicknames=Lck_Kin~Shc_SH2/stringencyValue=High
    </pre>
  </li>
  
  <li  id='svc_scanProtSeq'><b>Scan a protein for motifs using a protein sequence:</b><br/>
    URL:
    <pre>
    ../proteinScan/proteinName=<a href='#cmd_any'>[ANY]</a><a href='#cmd_qmark'>?</a>/sequence=<a href='#cmd_seq'>[SEQ]</a>/motifClass=<a href='#cmd_mc'>[MC]</a>/motifNicknames=<a href='#cmd_ms'>[MS]</a><a href='#cmd_qmark'>?</a>/stringencyValue=<a href='#cmd_st'>[ST]</a>
    </pre>
    Examples: 
    <pre>
    - ../proteinScan/proteinName=MY_PROTEIN/sequence=RDGVLLCQLLNNLLPHAINLREVNLRPQMSQFLCLKNIRTFLSTCCEKFGLKRSELFEAFDL  \
      FDVQDFGKVIYTLSALSWTPIAQNRGIMPFPTEEESVGDEDIYSGLSDQIDDTVEEDEDLYDCVENEEAEGDEIYEDLMRSEPVSMPPKMTEYDKRCCCLREIQQTE  \ 
      /motifClass=YEAST/motifNicknames=/stringencyValue=High
    - ../proteinScan/proteinName=MY_PROTEIN/sequence=RDGVLLCQLLNNLLPHAINLREVNLRPQMSQFLCLKNIRTFLSTCCEKFGLKRSELFEAFDL  \
      FDVQDFGKVIYTLSALSWTPIAQNRGIMPFPTEEESVGDEDIYSGLSDQIDDTVEEDEDLYDCVENEEAEGDEIYEDLMRSEPVSMPPKMTEYDKRCCCLREIQQTE  \ 
      /motifClass=MAMMALIAN/motifNicknames=Lck_Kin/stringencyValue=Low
    </pre>
  </li>
  
  <li id='svc_seqMatch'><b>Search a protein database for a sequence pattern:</b><br/>
    URL:
    <pre>
    ../sequenceMatch/sequenceMatchRegex=<a href='#cmd_any'>[ANY]</a>/datasourceNickname=<a href='#cmd_ds'>[DS]</a>/organismClass=<a href='#cmd_oc'>[OC]</a>/speciesRestrictionRegex=<a href='#cmd_any'>[ANY]</a><a href='#cmd_qmark'>?</a>  \
    /numberOfPhosphorylations=<a href='#cmd_np'>[NP]</a>/molWeightFrom=<a href='#cmd_num'>[NUM]</a><a href='#cmd_qmark'>?</a>/molWeightTo=<a href='#cmd_num'>[NUM]</a><a href='#cmd_qmark'>?</a>/isoelectricPointFrom=<a href='#cmd_dec'>[DEC]</a><a href='#cmd_qmark'>?</a>/isoelectricPointTo=<a href='#cmd_dec'>[DEC]</a><a href='#cmd_qmark'>?</a>  \
    /keywordRestrictionRegex=<a href='#cmd_any'>[ANY]</a><a href='#cmd_qmark'>?</a>
    </pre>
    Examples: 
    <pre>
     - ../sequenceMatch/sequenceMatchRegex=A+VCA/datasourceNickname=swissprot/organismClass=Mammals/speciesRestrictionRegex=human  \
       /numberOfPhosphorylations=0/molWeightFrom=/molWeightTo=/isoelectricPointFrom=/isoelectricPointTo=/keywordRestrictionRegex=cell
     - ../sequenceMatch/sequenceMatchRegex=A+VCA/datasourceNickname=swissprot/organismClass=Mammals/speciesRestrictionRegex=human  \
       /numberOfPhosphorylations=0/molWeightFrom=2000/molWeightTo=9000/isoelectricPointFrom=2.2/isoelectricPointTo=6/keywordRestrictionRegex=
    </pre>
  </li>
  <li  id='svc_searchDb'><b>Search a sequence database for a motif:</b><br/>
    URL:
    <pre>
    ../databaseSearch/motifNickname=<a href='#cmd_m'>[M]</a>/datasourceNickname=<a href='#cmd_ds'>[DS]</a>/organismClass=<a href='#cmd_oc'>[OC]</a>/speciesRestrictionRegex=<a href='#cmd_any'>[ANY]</a><a href='#cmd_qmark'>?</a>  \
    /numberOfPhosphorylations=<a href='#cmd_np'>[NP]</a>/molWeightFrom=<a href='#cmd_num'>[NUM]</a><a href='#cmd_qmark'>?</a>/molWeightTo=<a href='#cmd_num'>[NUM]</a><a href='#cmd_qmark'>?</a>/isoelectricPointFrom=<a href='#cmd_dec'>[DEC]</a><a href='#cmd_qmark'>?</a>/isoelectricPointTo=<a href='#cmd_dec'>[DEC]</a><a href='#cmd_qmark'>?</a>  \
    /keywordRestrictionRegex=<a href='#cmd_any'>[ANY]</a><a href='#cmd_qmark'>?</a>/sequenceRestrictionRegex=<a href='#cmd_any'>[ANY]</a><a href='#cmd_qmark'>?</a>
    </pre>
    Examples  : 
    <pre>
     - ../databaseSearch/motifNickname=Shc_SH2/datasourceNickname=swissprot/organismClass=Mammals/speciesRestrictionRegex=rattus  \
        /numberOfPhosphorylations=1/molWeightFrom=5000/molWeightTo=20000/isoelectricPointFrom=4/isoelectricPointTo=/keywordRestrictionRegex=cell  \
        /sequenceRestrictionRegex=PPP
     - ../databaseSearch/motifNickname=Shc_SH2/datasourceNickname=swissprot/organismClass=Mammals/speciesRestrictionRegex=  \
        /numberOfPhosphorylations=0/molWeightFrom=/molWeightTo=/isoelectricPointFrom=/isoelectricPointTo=/keywordRestrictionRegex=  \
        /sequenceRestrictionRegex=
    </pre>
  </li>
</ol>
<a href="#top" class='goToTopLink'>[Go to top]</a>

<!-- ########################################################################################################## -->
<h2 id='sec_errors'>6. Errors</h2>
<p>If you do not get the expected result there are usually two ways this may be displayed to you:</p>
<ul>
  <li><b>404 Error Page: </b> This happens if the URI you entered does not match the expected pattern. Make sure that your URI 
  conforms with one the patterns described above.</li>
  <li><b>XML-Document with error-tag: </b> You will be displayed a document like this if something went wrong when processing your 
  query-String. Usually a message is enclosed in the error-tag that describes the problem (for example, invalid input parameters).</li>
</ul>
<p>
If you are sure you did everything right and your query still does not work, please let us know! Just email <a href='mailto:scansite.mit.edu@gmail.com'>us</a>.
Please include what you wanted to do, what URI you used, and what happened. 
</p>
<a href="#top" class='goToTopLink'>[Go to top]</a>
</body>
</html>